
@tailwind utilities;

@layer utilities {
  .container {
    @apply px-4 mx-auto;
    max-width: 100%;
  }

  @screen sm {
    .container {
      max-width: 640px;
    }
  }

  @screen md {
    .container {
      max-width: 768px;
    }
  }

  @screen lg {
    .container {
      max-width: 1024px;
    }
  }

  @screen xl {
    .container {
      max-width: 1280px;
    }
  }

  /* Flexbox & Grid utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4;
  }

  /* Improved spacing utilities */
  .space-y {
    @apply space-y-4 md:space-y-6;
  }

  .space-x {
    @apply space-x-4 md:space-x-6;
  }

  /* Safe area utilities */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 1rem);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top, 0.5rem);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left, 0);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right, 0);
  }

  .safe-area {
    padding-top: env(safe-area-inset-top, 0.5rem);
    padding-bottom: env(safe-area-inset-bottom, 1rem);
    padding-left: env(safe-area-inset-left, 0);
    padding-right: env(safe-area-inset-right, 0);
  }

  /* Mobile navigation spacing - adjusted for better display */
  .mobile-nav-spacing {
    padding-top: 5rem;
    padding-bottom: calc(4rem + env(safe-area-inset-bottom, 1rem));
  }

  /* Mobile message list spacing */
  .mobile-message-list {
    height: calc(100dvh - 8rem);
  }

  /* Prevent horizontal scroll */
  .no-horizontal-scroll {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Fix for mobile viewport height */
  .min-h-screen {
    min-height: 100dvh;
  }

  /* Prevent content from being hidden under bottom navigation on mobile */
  .pb-safe {
    padding-bottom: max(1rem, env(safe-area-inset-bottom, 1rem));
  }
  
  /* Message container top spacing */
  .message-top-spacing {
    padding-top: 4rem;
  }
  
  /* Notifications page spacing */
  .notifications-container {
    padding-top: env(safe-area-inset-top, 1rem);
    padding-bottom: env(safe-area-inset-bottom, 1rem);
  }
  
  /* Family tree card styles - improved for better readability */
  .family-tree-card {
    @apply rounded-xl border shadow-sm transition-all duration-200;
    width: 120px;
    min-width: 120px;
  }
  
  /* Family tree spouse card styles */
  .spouse-card {
    @apply border-rose-300 bg-rose-100;
  }
  
  /* Family tree node connection line */
  .tree-connection {
    @apply absolute pointer-events-none z-0;
    stroke: #94a3b8;
    stroke-width: 1.5px;
  }
  
  /* Family tree nodes container styles */
  .family-tree-nodes {
    width: 100%;
    height: 100%;
  }
  
  /* Add styles for dragging state */
  .dragging {
    cursor: grabbing !important;
    user-select: none;
  }

  /* Hide Lovable badge */
  [data-grecaptcha-badge] {
    visibility: hidden !important;
  }
  
  /* Better scrollbar colors for tree view */
  .scroll-area-viewport {
    scrollbar-color: #a855f7 #f3f4f6;
  }
  
  /* Optimize family tree for mobile */
  @media (max-width: 640px) {
    .family-tree-nodes .rounded-xl {
      @apply rounded-lg;
    }
    
    .zoom-controls {
      @apply bottom-2 right-2;
      transform: scale(0.85);
    }
    
    /* Smaller cards on mobile */
    .family-tree-card {
      max-width: 100px;
      min-width: 100px;
    }
  }
}

/* Additional styles outside of Tailwind to ensure badge hiding */
#grecaptcha-badge {
  display: none !important;
}

/* Better grid lines for family tree */
.grid-line {
  stroke: #E2E8F0;
  stroke-width: 0.5px;
}

/* Family tree connection styles */
.family-connection {
  stroke: #94a3b8;
  stroke-width: 1.5px;
  fill: none;
}

.spouse-connection {
  stroke: #f43f5e;
  stroke-width: 1.5px;
  stroke-dasharray: 5,3;
  fill: none;
}

/* Tree node transition */
.family-node {
  transition: all 0.3s ease;
}
